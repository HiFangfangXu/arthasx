package xff.arthasx.ctrl.controller.kubernetes;

import java.util.List;

import javax.servlet.http.HttpServletRequest;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import com.fasterxml.jackson.databind.ObjectMapper;

import io.kubernetes.client.openapi.apis.CoreV1Api;

/**
 * 
 * @author Fangfang.Xu
 *
 */
@Controller
@RequestMapping("ui/v1/arthasx/kubernetes")
public class ViewController {

	@Autowired
	ObjectMapper om;

	@Autowired
	CoreV1Api api;

	@RequestMapping("/pods")
	public String pods(@RequestParam(defaultValue = "") String labels, HttpServletRequest request) throws Exception {
		request.setAttribute("labels", labels);
//		ArrayList<Map> v1pods = new ArrayList<>();
//		if (!labels.isEmpty()) {
//			labels = "arthasx in (v1)," + labels;
//		} else {
//			labels = "arthasx in (v1)";
//		}
//		V1PodList list = api.listPodForAllNamespaces(null, null, null, labels, null, null, null, null, null);
//		list.getItems().forEach(item -> {
//			try {
//				String json = om.writeValueAsString(item);
//				Map v1pod = om.readValue(json, Map.class);
//
//				Map metadata = (Map) v1pod.get("metadata");
//				Map<String, Object> annotations = (Map) metadata.get("annotations");
//				if (annotations != null) {
//					Set<String> keySet = annotations.keySet();
//					new ArrayList<>(keySet).forEach(k -> {
//						annotations.put(k.replace(".", ""), annotations.get(k));
//					});
//				}
//
//				v1pods.add(v1pod);
//			} catch (IOException e) {
//				throw new RuntimeException(e);
//			}
//
//		});
//		request.setAttribute("pods", v1pods);
		
		request.setAttribute("pods", om.readValue("[{\"apiVersion\":null,\"kind\":null,\"metadata\":{\"annotations\":{\"arthasx.jps.keywords\":\"arthasx-sample-k8s.jar\",\"cni.projectcalico.org/podIP\":\"192.168.235.216/32\",\"arthasxjpskeywords\":\"arthasx-sample-k8s.jar\",\"cniprojectcalicoorg/podIP\":\"192.168.235.216/32\"},\"clusterName\":null,\"creationTimestamp\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53294000,\"secondOfDay\":53294,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":14,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219694000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"deletionGracePeriodSeconds\":null,\"deletionTimestamp\":null,\"finalizers\":null,\"generateName\":\"arthasx-sample-k8s-79b6598cb8-\",\"generation\":null,\"initializers\":null,\"labels\":{\"app\":\"arthasx-sample-k8s\",\"arthasx\":\"v1\",\"pod-template-hash\":\"79b6598cb8\"},\"managedFields\":null,\"name\":\"arthasx-sample-k8s-79b6598cb8-6gz84\",\"namespace\":\"default\",\"ownerReferences\":[{\"apiVersion\":\"apps/v1\",\"blockOwnerDeletion\":true,\"controller\":true,\"kind\":\"ReplicaSet\",\"name\":\"arthasx-sample-k8s-79b6598cb8\",\"uid\":\"fd981a62-6b1b-4b2e-90db-a614b95b3a5a\"}],\"resourceVersion\":\"6821581\",\"selfLink\":\"/api/v1/namespaces/default/pods/arthasx-sample-k8s-79b6598cb8-6gz84\",\"uid\":\"b40e7b52-bf3a-454b-a634-34762de2f4eb\"},\"spec\":{\"activeDeadlineSeconds\":null,\"affinity\":null,\"automountServiceAccountToken\":null,\"containers\":[{\"args\":null,\"command\":null,\"env\":null,\"envFrom\":null,\"image\":\"arthasx-sample-k8s\",\"imagePullPolicy\":\"IfNotPresent\",\"lifecycle\":null,\"livenessProbe\":null,\"name\":\"arthasx-sample-k8s\",\"ports\":null,\"readinessProbe\":null,\"resources\":{\"limits\":null,\"requests\":null},\"securityContext\":null,\"stdin\":null,\"stdinOnce\":null,\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"tty\":null,\"volumeDevices\":null,\"volumeMounts\":[{\"mountPath\":\"/opt/arthasx\",\"mountPropagation\":null,\"name\":\"arthasxhome\",\"readOnly\":null,\"subPath\":null,\"subPathExpr\":null},{\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\",\"mountPropagation\":null,\"name\":\"default-token-m6f9f\",\"readOnly\":true,\"subPath\":null,\"subPathExpr\":null}],\"workingDir\":null}],\"dnsConfig\":null,\"dnsPolicy\":\"ClusterFirst\",\"enableServiceLinks\":true,\"hostAliases\":null,\"hostIPC\":null,\"hostNetwork\":null,\"hostPID\":null,\"hostname\":null,\"imagePullSecrets\":null,\"initContainers\":[{\"args\":null,\"command\":null,\"env\":null,\"envFrom\":null,\"image\":\"arthasx-init\",\"imagePullPolicy\":\"IfNotPresent\",\"lifecycle\":null,\"livenessProbe\":null,\"name\":\"arthasx-init\",\"ports\":null,\"readinessProbe\":null,\"resources\":{\"limits\":null,\"requests\":null},\"securityContext\":null,\"stdin\":null,\"stdinOnce\":null,\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"tty\":null,\"volumeDevices\":null,\"volumeMounts\":[{\"mountPath\":\"/var/lib/arthasx\",\"mountPropagation\":null,\"name\":\"arthasxhome\",\"readOnly\":null,\"subPath\":null,\"subPathExpr\":null},{\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\",\"mountPropagation\":null,\"name\":\"default-token-m6f9f\",\"readOnly\":true,\"subPath\":null,\"subPathExpr\":null}],\"workingDir\":null}],\"nodeName\":\"k8s-master\",\"nodeSelector\":null,\"preemptionPolicy\":null,\"priority\":0,\"priorityClassName\":null,\"readinessGates\":null,\"restartPolicy\":\"Always\",\"runtimeClassName\":null,\"schedulerName\":\"default-scheduler\",\"securityContext\":{\"fsGroup\":null,\"runAsGroup\":null,\"runAsNonRoot\":null,\"runAsUser\":null,\"seLinuxOptions\":null,\"supplementalGroups\":null,\"sysctls\":null,\"windowsOptions\":null},\"serviceAccount\":\"default\",\"serviceAccountName\":\"default\",\"shareProcessNamespace\":null,\"subdomain\":null,\"terminationGracePeriodSeconds\":30,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"tolerationSeconds\":300,\"value\":null},{\"effect\":\"NoExecute\",\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"tolerationSeconds\":300,\"value\":null}],\"volumes\":[{\"awsElasticBlockStore\":null,\"azureDisk\":null,\"azureFile\":null,\"cephfs\":null,\"cinder\":null,\"configMap\":null,\"csi\":null,\"downwardAPI\":null,\"emptyDir\":{\"medium\":null,\"sizeLimit\":null},\"fc\":null,\"flexVolume\":null,\"flocker\":null,\"gcePersistentDisk\":null,\"gitRepo\":null,\"glusterfs\":null,\"hostPath\":null,\"iscsi\":null,\"name\":\"arthasxhome\",\"nfs\":null,\"persistentVolumeClaim\":null,\"photonPersistentDisk\":null,\"portworxVolume\":null,\"projected\":null,\"quobyte\":null,\"rbd\":null,\"scaleIO\":null,\"secret\":null,\"storageos\":null,\"vsphereVolume\":null},{\"awsElasticBlockStore\":null,\"azureDisk\":null,\"azureFile\":null,\"cephfs\":null,\"cinder\":null,\"configMap\":null,\"csi\":null,\"downwardAPI\":null,\"emptyDir\":null,\"fc\":null,\"flexVolume\":null,\"flocker\":null,\"gcePersistentDisk\":null,\"gitRepo\":null,\"glusterfs\":null,\"hostPath\":null,\"iscsi\":null,\"name\":\"default-token-m6f9f\",\"nfs\":null,\"persistentVolumeClaim\":null,\"photonPersistentDisk\":null,\"portworxVolume\":null,\"projected\":null,\"quobyte\":null,\"rbd\":null,\"scaleIO\":null,\"secret\":{\"defaultMode\":420,\"items\":null,\"optional\":null,\"secretName\":\"default-token-m6f9f\"},\"storageos\":null,\"vsphereVolume\":null}]},\"status\":{\"conditions\":[{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53296000,\"secondOfDay\":53296,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":16,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219696000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"Initialized\"},{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53298000,\"secondOfDay\":53298,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":18,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219698000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"Ready\"},{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53298000,\"secondOfDay\":53298,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":18,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219698000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"ContainersReady\"},{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53294000,\"secondOfDay\":53294,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":14,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219694000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"PodScheduled\"}],\"containerStatuses\":[{\"containerID\":\"docker://5b0341fabc447668f5b62eeff7da3b2c4a517a63fd1068a5bb1288f0ae7cbe1a\",\"image\":\"arthasx-sample-k8s:latest\",\"imageID\":\"docker://sha256:57838b23c7ff5236b4727228be9f387df2d5161e59a122e1c6f260913eef7f52\",\"lastState\":{\"running\":null,\"terminated\":null,\"waiting\":null},\"name\":\"arthasx-sample-k8s\",\"ready\":true,\"restartCount\":0,\"state\":{\"running\":{\"startedAt\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53297000,\"secondOfDay\":53297,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":17,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219697000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false}},\"terminated\":null,\"waiting\":null}}],\"hostIP\":\"10.13.67.117\",\"initContainerStatuses\":[{\"containerID\":\"docker://4198ada7770df6c3e8e1bb03f451c3a2bcaf3501fb1f133d9e52f9da2c4fd1f0\",\"image\":\"arthasx-init:latest\",\"imageID\":\"docker://sha256:d1de482525c7c42a1998af8cdb6e1b64cd57ff113b23744549645c55d28f7c64\",\"lastState\":{\"running\":null,\"terminated\":null,\"waiting\":null},\"name\":\"arthasx-init\",\"ready\":true,\"restartCount\":0,\"state\":{\"running\":null,\"terminated\":{\"containerID\":\"docker://4198ada7770df6c3e8e1bb03f451c3a2bcaf3501fb1f133d9e52f9da2c4fd1f0\",\"exitCode\":0,\"finishedAt\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53296000,\"secondOfDay\":53296,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":16,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219696000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":\"Completed\",\"signal\":null,\"startedAt\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53295000,\"secondOfDay\":53295,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":15,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219695000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false}},\"waiting\":null}}],\"message\":null,\"nominatedNodeName\":null,\"phase\":\"Running\",\"podIP\":\"192.168.235.216\",\"qosClass\":\"BestEffort\",\"reason\":null,\"startTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53294000,\"secondOfDay\":53294,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":14,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219694000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false}}},{\"apiVersion\":null,\"kind\":null,\"metadata\":{\"annotations\":{\"arthasx.jps.keywords\":\"arthasx-sample-k8s.jar\",\"cni.projectcalico.org/podIP\":\"192.168.235.198/32\",\"arthasxjpskeywords\":\"arthasx-sample-k8s.jar\",\"cniprojectcalicoorg/podIP\":\"192.168.235.198/32\"},\"clusterName\":null,\"creationTimestamp\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53294000,\"secondOfDay\":53294,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":14,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219694000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"deletionGracePeriodSeconds\":null,\"deletionTimestamp\":null,\"finalizers\":null,\"generateName\":\"arthasx-sample-k8s-79b6598cb8-\",\"generation\":null,\"initializers\":null,\"labels\":{\"app\":\"arthasx-sample-k8s\",\"arthasx\":\"v1\",\"pod-template-hash\":\"79b6598cb8\"},\"managedFields\":null,\"name\":\"arthasx-sample-k8s-79b6598cb8-ptc5k\",\"namespace\":\"default\",\"ownerReferences\":[{\"apiVersion\":\"apps/v1\",\"blockOwnerDeletion\":true,\"controller\":true,\"kind\":\"ReplicaSet\",\"name\":\"arthasx-sample-k8s-79b6598cb8\",\"uid\":\"fd981a62-6b1b-4b2e-90db-a614b95b3a5a\"}],\"resourceVersion\":\"6821578\",\"selfLink\":\"/api/v1/namespaces/default/pods/arthasx-sample-k8s-79b6598cb8-ptc5k\",\"uid\":\"357077a4-98ff-4955-877f-8c1d3a0865db\"},\"spec\":{\"activeDeadlineSeconds\":null,\"affinity\":null,\"automountServiceAccountToken\":null,\"containers\":[{\"args\":null,\"command\":null,\"env\":null,\"envFrom\":null,\"image\":\"arthasx-sample-k8s\",\"imagePullPolicy\":\"IfNotPresent\",\"lifecycle\":null,\"livenessProbe\":null,\"name\":\"arthasx-sample-k8s\",\"ports\":null,\"readinessProbe\":null,\"resources\":{\"limits\":null,\"requests\":null},\"securityContext\":null,\"stdin\":null,\"stdinOnce\":null,\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"tty\":null,\"volumeDevices\":null,\"volumeMounts\":[{\"mountPath\":\"/opt/arthasx\",\"mountPropagation\":null,\"name\":\"arthasxhome\",\"readOnly\":null,\"subPath\":null,\"subPathExpr\":null},{\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\",\"mountPropagation\":null,\"name\":\"default-token-m6f9f\",\"readOnly\":true,\"subPath\":null,\"subPathExpr\":null}],\"workingDir\":null}],\"dnsConfig\":null,\"dnsPolicy\":\"ClusterFirst\",\"enableServiceLinks\":true,\"hostAliases\":null,\"hostIPC\":null,\"hostNetwork\":null,\"hostPID\":null,\"hostname\":null,\"imagePullSecrets\":null,\"initContainers\":[{\"args\":null,\"command\":null,\"env\":null,\"envFrom\":null,\"image\":\"arthasx-init\",\"imagePullPolicy\":\"IfNotPresent\",\"lifecycle\":null,\"livenessProbe\":null,\"name\":\"arthasx-init\",\"ports\":null,\"readinessProbe\":null,\"resources\":{\"limits\":null,\"requests\":null},\"securityContext\":null,\"stdin\":null,\"stdinOnce\":null,\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"tty\":null,\"volumeDevices\":null,\"volumeMounts\":[{\"mountPath\":\"/var/lib/arthasx\",\"mountPropagation\":null,\"name\":\"arthasxhome\",\"readOnly\":null,\"subPath\":null,\"subPathExpr\":null},{\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\",\"mountPropagation\":null,\"name\":\"default-token-m6f9f\",\"readOnly\":true,\"subPath\":null,\"subPathExpr\":null}],\"workingDir\":null}],\"nodeName\":\"k8s-master\",\"nodeSelector\":null,\"preemptionPolicy\":null,\"priority\":0,\"priorityClassName\":null,\"readinessGates\":null,\"restartPolicy\":\"Always\",\"runtimeClassName\":null,\"schedulerName\":\"default-scheduler\",\"securityContext\":{\"fsGroup\":null,\"runAsGroup\":null,\"runAsNonRoot\":null,\"runAsUser\":null,\"seLinuxOptions\":null,\"supplementalGroups\":null,\"sysctls\":null,\"windowsOptions\":null},\"serviceAccount\":\"default\",\"serviceAccountName\":\"default\",\"shareProcessNamespace\":null,\"subdomain\":null,\"terminationGracePeriodSeconds\":30,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"tolerationSeconds\":300,\"value\":null},{\"effect\":\"NoExecute\",\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"tolerationSeconds\":300,\"value\":null}],\"volumes\":[{\"awsElasticBlockStore\":null,\"azureDisk\":null,\"azureFile\":null,\"cephfs\":null,\"cinder\":null,\"configMap\":null,\"csi\":null,\"downwardAPI\":null,\"emptyDir\":{\"medium\":null,\"sizeLimit\":null},\"fc\":null,\"flexVolume\":null,\"flocker\":null,\"gcePersistentDisk\":null,\"gitRepo\":null,\"glusterfs\":null,\"hostPath\":null,\"iscsi\":null,\"name\":\"arthasxhome\",\"nfs\":null,\"persistentVolumeClaim\":null,\"photonPersistentDisk\":null,\"portworxVolume\":null,\"projected\":null,\"quobyte\":null,\"rbd\":null,\"scaleIO\":null,\"secret\":null,\"storageos\":null,\"vsphereVolume\":null},{\"awsElasticBlockStore\":null,\"azureDisk\":null,\"azureFile\":null,\"cephfs\":null,\"cinder\":null,\"configMap\":null,\"csi\":null,\"downwardAPI\":null,\"emptyDir\":null,\"fc\":null,\"flexVolume\":null,\"flocker\":null,\"gcePersistentDisk\":null,\"gitRepo\":null,\"glusterfs\":null,\"hostPath\":null,\"iscsi\":null,\"name\":\"default-token-m6f9f\",\"nfs\":null,\"persistentVolumeClaim\":null,\"photonPersistentDisk\":null,\"portworxVolume\":null,\"projected\":null,\"quobyte\":null,\"rbd\":null,\"scaleIO\":null,\"secret\":{\"defaultMode\":420,\"items\":null,\"optional\":null,\"secretName\":\"default-token-m6f9f\"},\"storageos\":null,\"vsphereVolume\":null}]},\"status\":{\"conditions\":[{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53296000,\"secondOfDay\":53296,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":16,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219696000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"Initialized\"},{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53297000,\"secondOfDay\":53297,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":17,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219697000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"Ready\"},{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53297000,\"secondOfDay\":53297,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":17,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219697000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"ContainersReady\"},{\"lastProbeTime\":null,\"lastTransitionTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53294000,\"secondOfDay\":53294,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":14,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219694000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":null,\"status\":\"True\",\"type\":\"PodScheduled\"}],\"containerStatuses\":[{\"containerID\":\"docker://5ffa55ce12739b7de25b4202c5f04696eaa5cb0d6b3a305756670fa8c9c858b0\",\"image\":\"arthasx-sample-k8s:latest\",\"imageID\":\"docker://sha256:57838b23c7ff5236b4727228be9f387df2d5161e59a122e1c6f260913eef7f52\",\"lastState\":{\"running\":null,\"terminated\":null,\"waiting\":null},\"name\":\"arthasx-sample-k8s\",\"ready\":true,\"restartCount\":0,\"state\":{\"running\":{\"startedAt\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53297000,\"secondOfDay\":53297,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":17,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219697000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false}},\"terminated\":null,\"waiting\":null}}],\"hostIP\":\"10.13.67.117\",\"initContainerStatuses\":[{\"containerID\":\"docker://3354b1cf364e8358531bd7ebb194a723f3ad853851956d9f0fc2a006b5f831ca\",\"image\":\"arthasx-init:latest\",\"imageID\":\"docker://sha256:d1de482525c7c42a1998af8cdb6e1b64cd57ff113b23744549645c55d28f7c64\",\"lastState\":{\"running\":null,\"terminated\":null,\"waiting\":null},\"name\":\"arthasx-init\",\"ready\":true,\"restartCount\":0,\"state\":{\"running\":null,\"terminated\":{\"containerID\":\"docker://3354b1cf364e8358531bd7ebb194a723f3ad853851956d9f0fc2a006b5f831ca\",\"exitCode\":0,\"finishedAt\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53296000,\"secondOfDay\":53296,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":16,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219696000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false},\"message\":null,\"reason\":\"Completed\",\"signal\":null,\"startedAt\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53295000,\"secondOfDay\":53295,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":15,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219695000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false}},\"waiting\":null}}],\"message\":null,\"nominatedNodeName\":null,\"phase\":\"Running\",\"podIP\":\"192.168.235.198\",\"qosClass\":\"BestEffort\",\"reason\":null,\"startTime\":{\"era\":1,\"dayOfYear\":347,\"dayOfWeek\":5,\"year\":2019,\"dayOfMonth\":13,\"millisOfDay\":53294000,\"secondOfDay\":53294,\"minuteOfDay\":888,\"yearOfEra\":2019,\"weekyear\":2019,\"centuryOfEra\":20,\"weekOfWeekyear\":50,\"yearOfCentury\":19,\"monthOfYear\":12,\"hourOfDay\":14,\"millisOfSecond\":0,\"minuteOfHour\":48,\"secondOfMinute\":14,\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"},\"millis\":1576219694000,\"chronology\":{\"zone\":{\"fixed\":false,\"uncachedZone\":{\"fixed\":false,\"cachable\":true,\"id\":\"Asia/Shanghai\"},\"id\":\"Asia/Shanghai\"}},\"beforeNow\":true,\"afterNow\":false,\"equalNow\":false}}}]", List.class));
		return "pod";
	}
}
